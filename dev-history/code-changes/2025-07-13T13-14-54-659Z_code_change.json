{
  "timestamp": "2025-07-13T13:14:54.659Z",
  "description": "ğŸŠ Phase 4 ì™„ì „ì²´++ ì„¸ë Œë””í”¼í‹° ì§„í™” ì™„ì„± ğŸŠ",
  "command": "",
  "files": [
    "models/Feedback.js",
    "senior-ui.html",
    "services/serendipity-matching.js"
  ],
  "gitDiff": "diff --git a/models/Feedback.js b/models/Feedback.js\nnew file mode 100644\nindex 0000000..2676f8e\n--- /dev/null\n+++ b/models/Feedback.js\n@@ -0,0 +1,574 @@\n+const mongoose = require('mongoose');\n+\n+/**\n+ * ì‚¬ìš©ì í”¼ë“œë°± ëª¨ë¸ - 4060ì„¸ëŒ€ íŠ¹í™” í”¼ë“œë°± ì‹œìŠ¤í…œ\n+ * \n+ * ê¸°ëŠ¥:\n+ * - ë§¤ì¹­ ì„±ê³µ/ì‹¤íŒ¨ í”¼ë“œë°±\n+ * - ì„œë¹„ìŠ¤ ê°œì„  ì œì•ˆ\n+ * - ì‚¬ìš©ì ê²½í—˜ í‰ê°€\n+ * - ë§Œë‚¨ í›„ ë¦¬ë·°\n+ * - ê¸°ìˆ ì  ë¬¸ì œ ì‹ ê³ \n+ */\n+\n+/**\n+ * @swagger\n+ * components:\n+ *   schemas:\n+ *     Feedback:\n+ *       type: object\n+ *       required:\n+ *         - userId\n+ *         - type\n+ *         - rating\n+ *       properties:\n+ *         _id:\n+ *           type: string\n+ *           description: í”¼ë“œë°± ê³ ìœ  ID\n+ *         userId:\n+ *           type: string\n+ *           description: í”¼ë“œë°± ì‘ì„± ì‚¬ìš©ì ID\n+ *         type:\n+ *           type: string\n+ *           enum: ['matching', 'service', 'meeting', 'technical', 'suggestion']\n+ *           description: í”¼ë“œë°± ìœ í˜•\n+ *         rating:\n+ *           type: number\n+ *           minimum: 1\n+ *           maximum: 5\n+ *           description: ë§Œì¡±ë„ í‰ì  (1-5)\n+ *         title:\n+ *           type: string\n+ *           description: í”¼ë“œë°± ì œëª©\n+ *         content:\n+ *           type: string\n+ *           description: í”¼ë“œë°± ë‚´ìš©\n+ *         category:\n+ *           type: string\n+ *           description: í”¼ë“œë°± ì„¸ë¶€ ì¹´í…Œê³ ë¦¬\n+ *         createdAt:\n+ *           type: string\n+ *           format: date-time\n+ *         updatedAt:\n+ *           type: string\n+ *           format: date-time\n+ */\n+\n+const feedbackSchema = new mongoose.Schema({\n+  // ê¸°ë³¸ ì •ë³´\n+  userId: {\n+    type: mongoose.Schema.Types.ObjectId,\n+    ref: 'User',\n+    required: [true, 'ì‚¬ìš©ì IDëŠ” í•„ìˆ˜ì…ë‹ˆë‹¤'],\n+    index: true\n+  },\n+\n+  // í”¼ë“œë°± ìœ í˜•\n+  type: {\n+    type: String,\n+    required: [true, 'í”¼ë“œë°± ìœ í˜•ì€ í•„ìˆ˜ì…ë‹ˆë‹¤'],\n+    enum: {\n+      values: ['matching', 'service', 'meeting', 'technical', 'suggestion'],\n+      message: 'ìœ íš¨í•œ í”¼ë“œë°± ìœ í˜•ì„ ì„ íƒí•´ì£¼ì„¸ìš”'\n+    },\n+    index: true\n+  },\n+\n+  // ë§Œì¡±ë„ í‰ì  (1-5)\n+  rating: {\n+    type: Number,\n+    required: [true, 'í‰ì ì€ í•„ìˆ˜ì…ë‹ˆë‹¤'],\n+    min: [1, 'í‰ì ì€ 1 ì´ìƒì´ì–´ì•¼ í•©ë‹ˆë‹¤'],\n+    max: [5, 'í‰ì ì€ 5 ì´í•˜ì—¬ì•¼ í•©ë‹ˆë‹¤']\n+  },\n+\n+  // í”¼ë“œë°± ì œëª©\n+  title: {\n+    type: String,\n+    required: [true, 'ì œëª©ì€ í•„ìˆ˜ì…ë‹ˆë‹¤'],\n+    trim: true,\n+    maxlength: [100, 'ì œëª©ì€ 100ì ì´í•˜ì—¬ì•¼ í•©ë‹ˆë‹¤']\n+  },\n+\n+  // í”¼ë“œë°± ë‚´ìš©\n+  content: {\n+    type: String,\n+    required: [true, 'ë‚´ìš©ì€ í•„ìˆ˜ì…ë‹ˆë‹¤'],\n+    trim: true,\n+    maxlength: [2000, 'ë‚´ìš©ì€ 2000ì ì´í•˜ì—¬ì•¼ í•©ë‹ˆë‹¤']\n+  },\n+\n+  // ì„¸ë¶€ ì¹´í…Œê³ ë¦¬\n+  category: {\n+    type: String,\n+    trim: true,\n+    index: true\n+  },\n+\n+  // í”¼ë“œë°± ìœ í˜•ë³„ ìƒì„¸ ì •ë³´\n+  details: {\n+    // ë§¤ì¹­ ê´€ë ¨ í”¼ë“œë°±\n+    matching: {\n+      matchId: {\n+        type: mongoose.Schema.Types.ObjectId,\n+        ref: 'Match'\n+      },\n+      matchedUserId: {\n+        type: mongoose.Schema.Types.ObjectId,\n+        ref: 'User'\n+      },\n+      matchQuality: {\n+        type: Number,\n+        min: 1,\n+        max: 5\n+      },\n+      compatibilityAccuracy: {\n+        type: Number,\n+        min: 1,\n+        max: 5\n+      },\n+      communicationQuality: {\n+        type: Number,\n+        min: 1,\n+        max: 5\n+      },\n+      wouldRecommend: {\n+        type: Boolean\n+      },\n+      improvements: [{\n+        area: {\n+          type: String,\n+          enum: ['algorithm', 'profile_info', 'communication', 'filtering', 'presentation']\n+        },\n+        suggestion: String\n+      }]\n+    },\n+\n+    // ì„œë¹„ìŠ¤ ê´€ë ¨ í”¼ë“œë°±\n+    service: {\n+      serviceAspect: {\n+        type: String,\n+        enum: ['ui_ux', 'performance', 'features', 'customer_support', 'pricing', 'accessibility']\n+      },\n+      difficulty: {\n+        type: String,\n+        enum: ['very_easy', 'easy', 'moderate', 'difficult', 'very_difficult']\n+      },\n+      usageFrequency: {\n+        type: String,\n+        enum: ['daily', 'weekly', 'monthly', 'rarely']\n+      },\n+      deviceType: {\n+        type: String,\n+        enum: ['mobile', 'tablet', 'desktop']\n+      },\n+      browserType: {\n+        type: String\n+      }\n+    },\n+\n+    // ë§Œë‚¨ í›„ ë¦¬ë·°\n+    meeting: {\n+      meetingDate: {\n+        type: Date\n+      },\n+      meetingLocation: {\n+        type: String,\n+        trim: true\n+      },\n+      meetingDuration: {\n+        type: Number // ë¶„ ë‹¨ìœ„\n+      },\n+      overallExperience: {\n+        type: Number,\n+        min: 1,\n+        max: 5\n+      },\n+      personalSafety: {\n+        type: Number,\n+        min: 1,\n+        max: 5\n+      },\n+      matchAccuracy: {\n+        type: Number,\n+        min: 1,\n+        max: 5\n+      },\n+      futureInterest: {\n+        type: String,\n+        enum: ['definitely', 'maybe', 'probably_not', 'definitely_not']\n+      },\n+      reportSafetyIssue: {\n+        type: Boolean,\n+        default: false\n+      },\n+      safetyDetails: {\n+        type: String,\n+        maxlength: [1000, 'ì•ˆì „ ê´€ë ¨ ì„¸ë¶€ì‚¬í•­ì€ 1000ì ì´í•˜ì—¬ì•¼ í•©ë‹ˆë‹¤']\n+      }\n+    },\n+\n+    // ê¸°ìˆ ì  ë¬¸ì œ\n+    technical: {\n+      issueType: {\n+        type: String,\n+        enum: ['loading', 'crash', 'login', 'payment', 'notification', 'image_upload', 'messaging', 'other']\n+      },\n+      deviceInfo: {\n+        os: String,\n+        browser: String,\n+        version: String\n+      },\n+      errorMessage: {\n+        type: String,\n+        maxlength: [500, 'ì˜¤ë¥˜ ë©”ì‹œì§€ëŠ” 500ì ì´í•˜ì—¬ì•¼ í•©ë‹ˆë‹¤']\n+      },\n+      reproduced: {\n+        type: Boolean\n+      },\n+      frequency: {\n+        type: String,\n+        enum: ['once', 'rarely', 'sometimes', 'often', 'always']\n+      }\n+    },\n+\n+    // ê°œì„  ì œì•ˆ\n+    suggestion: {\n+      suggestionType: {\n+        type: String,\n+        enum: ['new_feature', 'improvement', 'integration', 'content', 'design']\n+      },\n+      priority: {\n+        type: String,\n+        enum: ['low', 'medium', 'high', 'critical']\n+      },\n+      targetAudience: {\n+        type: String,\n+        enum: ['all_users', 'seniors', 'new_users', 'premium_users']\n+      },\n+      implementationDifficulty: {\n+        type: String,\n+        enum: ['easy', 'medium', 'hard', 'very_hard']\n+      },\n+      businessValue: {\n+        type: String,\n+        enum: ['low', 'medium', 'high', 'very_high']\n+      }\n+    }\n+  },\n+\n+  // 4060ì„¸ëŒ€ íŠ¹í™” ì •ë³´\n+  ageGroupContext: {\n+    technicalComfort: {\n+      type: String,\n+      enum: ['beginner', 'intermediate', 'advanced'],\n+      default: 'intermediate'\n+    },\n+    preferredContactMethod: {\n+      type: String,\n+      enum: ['email', 'phone', 'app_notification', 'sms']\n+    },\n+    assistanceNeeded: {\n+      type: Boolean,\n+      default: false\n+    },\n+    assistanceType: {\n+      type: String,\n+      enum: ['phone_support', 'video_tutorial', 'written_guide', 'in_person']\n+    }\n+  },\n+\n+  // í”¼ë“œë°± ìƒíƒœ ê´€ë¦¬\n+  status: {\n+    type: String,\n+    enum: ['pending', 'reviewing', 'in_progress', 'resolved', 'closed'],\n+    default: 'pending',\n+    index: true\n+  },\n+\n+  priority: {\n+    type: String,\n+    enum: ['low', 'medium', 'high', 'urgent'],\n+    default: 'medium',\n+    index: true\n+  },\n+\n+  // ê´€ë¦¬ì ì‘ë‹µ\n+  adminResponse: {\n+    respondedBy: {\n+      type: String,\n+      trim: true\n+    },\n+    responseMessage: {\n+      type: String,\n+      trim: true,\n+      maxlength: [1000, 'ì‘ë‹µ ë©”ì‹œì§€ëŠ” 1000ì ì´í•˜ì—¬ì•¼ í•©ë‹ˆë‹¤']\n+    },\n+    respondedAt: {\n+      type: Date\n+    },\n+    resolutionAction: {\n+      type: String,\n+      enum: ['fixed', 'feature_added', 'explanation_provided', 'escalated', 'no_action_needed']\n+    }\n+  },\n+\n+  // í›„ì† ì¡°ì¹˜\n+  followUp: {\n+    required: {\n+      type: Boolean,\n+      default: false\n+    },\n+    scheduledDate: {\n+      type: Date\n+    },\n+    completedAt: {\n+      type: Date\n+    },\n+    notes: {\n+      type: String,\n+      maxlength: [500, 'í›„ì† ì¡°ì¹˜ ë…¸íŠ¸ëŠ” 500ì ì´í•˜ì—¬ì•¼ í•©ë‹ˆë‹¤']\n+    }\n+  },\n+\n+  // ìµëª… ì—¬ë¶€\n+  isAnonymous: {\n+    type: Boolean,\n+    default: false\n+  },\n+\n+  // ê³µê°œ ì—¬ë¶€ (ë‹¤ë¥¸ ì‚¬ìš©ìë“¤ì´ ë³¼ ìˆ˜ ìˆëŠ”ì§€)\n+  isPublic: {\n+    type: Boolean,\n+    default: false\n+  },\n+\n+  // ë„ì›€ë¨ íˆ¬í‘œ\n+  helpfulVotes: {\n+    type: Number,\n+    default: 0\n+  },\n+\n+  // íˆ¬í‘œí•œ ì‚¬ìš©ìë“¤\n+  votedUsers: [{\n+    type: mongoose.Schema.Types.ObjectId,\n+    ref: 'User'\n+  }],\n+\n+  // ì²¨ë¶€ íŒŒì¼\n+  attachments: [{\n+    filename: String,\n+    path: String,\n+    mimetype: String,\n+    size: Number,\n+    uploadedAt: {\n+      type: Date,\n+      default: Date.now\n+    }\n+  }],\n+\n+  // ìë™ íƒœê·¸\n+  autoTags: [{\n+    type: String,\n+    trim: true\n+  }],\n+\n+  // ê°ì • ë¶„ì„ ê²°ê³¼\n+  sentimentAnalysis: {\n+    score: {\n+      type: Number,\n+      min: -1,\n+      max: 1\n+    },\n+    magnitude: {\n+      type: Number,\n+      min: 0,\n+      max: 1\n+    },\n+    emotion: {\n+      type: String,\n+      enum: ['positive', 'neutral', 'negative']\n+    },\n+    confidence: {\n+      type: Number,\n+      min: 0,\n+      max: 1\n+    }\n+  },\n+\n+  // ê´€ë ¨ í”¼ë“œë°±\n+  relatedFeedback: [{\n+    type: mongoose.Schema.Types.ObjectId,\n+    ref: 'Feedback'\n+  }],\n+\n+  // ìŠ¤íŒ¸ ì²´í¬\n+  isSpam: {\n+    type: Boolean,\n+    default: false\n+  },\n+\n+  spamScore: {\n+    type: Number,\n+    min: 0,\n+    max: 1,\n+    default: 0\n+  }\n+\n+}, {\n+  timestamps: true,\n+  toJSON: { virtuals: true },\n+  toObject: { virtuals: true }\n+});\n+\n+// ì¸ë±ìŠ¤ ì„¤ì •\n+feedbackSchema.index({ type: 1, status: 1 });\n+feedbackSchema.index({ rating: 1, createdAt: -1 });\n+feedbackSchema.index({ priority: 1, status: 1 });\n+feedbackSchema.index({ 'details.matching.matchId': 1 });\n+feedbackSchema.index({ isPublic: 1, helpfulVotes: -1 });\n+feedbackSchema.index({ createdAt: -1 });\n+\n+// ê°€ìƒ í•„ë“œ\n+feedbackSchema.virtual('user', {\n+  ref: 'User',\n+  localField: 'userId',\n+  foreignField: '_id',\n+  justOne: true\n+});\n+\n+feedbackSchema.virtual('match', {\n+  ref: 'Match',\n+  localField: 'details.matching.matchId',\n+  foreignField: '_id',\n+  justOne: true\n+});\n+\n+// ì •ì  ë©”ì„œë“œ: í‰ê·  í‰ì  ê³„ì‚°\n+feedbackSchema.statics.getAverageRating = function(type = null) {\n+  const match = type ? { type } : {};\n+  \n+  return this.aggregate([\n+    { $match: match },\n+    {\n+      $group: {\n+        _id: null,\n+        averageRating: { $avg: '$rating' },\n+        totalCount: { $sum: 1 }\n+      }\n+    }\n+  ]);\n+};\n+\n+// ì •ì  ë©”ì„œë“œ: íƒ€ì…ë³„ í†µê³„\n+feedbackSchema.statics.getTypeStats = function() {\n+  return this.aggregate([\n+    {\n+      $group: {\n+        _id: '$type',\n+        count: { $sum: 1 },\n+        averageRating: { $avg: '$rating' },\n+        latestFeedback: { $max: '$createdAt' }\n+      }\n+    },\n+    { $sort: { count: -1 } }\n+  ]);\n+};\n+\n+// ì •ì  ë©”ì„œë“œ: ìš°ì„ ìˆœìœ„ ë†’ì€ í”¼ë“œë°±\n+feedbackSchema.statics.getHighPriorityFeedback = function() {\n+  return this.find({\n+    priority: { $in: ['high', 'urgent'] },\n+    status: { $in: ['pending', 'reviewing'] }\n+  })\n+  .populate('userId', 'name email age')\n+  .sort({ priority: -1, createdAt: -1 });\n+};\n+\n+// ì •ì  ë©”ì„œë“œ: 4060ì„¸ëŒ€ ë§ì¶¤ í”¼ë“œë°± ë¶„ì„\n+feedbackSchema.statics.getSeniorAnalytics = function() {\n+  return this.aggregate([\n+    {\n+      $lookup: {\n+        from: 'users',\n+        localField: 'userId',\n+        foreignField: '_id',\n+        as: 'userInfo'\n+      }\n+    },\n+    { $unwind: '$userInfo' },\n+    {\n+      $match: {\n+        'userInfo.age': { $in: ['40-45', '46-50', '51-55', '56-60', '60+'] }\n+      }\n+    },\n+    {\n+      $group: {\n+        _id: {\n+          type: '$type',\n+          ageGroup: '$userInfo.age'\n+        },\n+        count: { $sum: 1 },\n+        averageRating: { $avg: '$rating' },\n+        commonIssues: { $push: '$category' }\n+      }\n+    },\n+    { $sort: { count: -1 } }\n+  ]);\n+};\n+\n+// ì¸ìŠ¤í„´ìŠ¤ ë©”ì„œë“œ: ìë™ íƒœê·¸ ìƒì„±\n+feedbackSchema.methods.generateAutoTags = function() {\n+  const tags = [];\n+  \n+  // í‰ì  ê¸°ë°˜ íƒœê·¸\n+  if (this.rating <= 2) tags.push('ë‚®ì€ë§Œì¡±ë„');\n+  else if (this.rating >= 4) tags.push('ë†’ì€ë§Œì¡±ë„');\n+  \n+  // ìœ í˜• ê¸°ë°˜ íƒœê·¸\n+  const typeTagMap = {\n+    'matching': 'ë§¤ì¹­',\n+    'service': 'ì„œë¹„ìŠ¤',\n+    'meeting': 'ë§Œë‚¨',\n+    'technical': 'ê¸°ìˆ ',\n+    'suggestion': 'ì œì•ˆ'\n+  };\n+  tags.push(typeTagMap[this.type]);\n+  \n+  // ë‚´ìš© ê¸°ë°˜ í‚¤ì›Œë“œ ì¶”ì¶œ (ê°„ë‹¨í•œ ë²„ì „)\n+  const keywords = ['ì–´ë ¤ì›€', 'ë¶ˆí¸', 'ì¢‹ìŒ', 'ê°œì„ ', 'ë²„ê·¸', 'ì†ë„', 'ì‚¬ìš©ì„±'];\n+  keywords.forEach(keyword => {\n+    if (this.content.includes(keyword)) {\n+      tags.push(keyword);\n+    }\n+  });\n+  \n+  this.autoTags = [...new Set(tags)]; // ì¤‘ë³µ ì œê±°\n+  return this.autoTags;\n+};\n+\n+// ì¸ìŠ¤í„´ìŠ¤ ë©”ì„œë“œ: ìš°ì„ ìˆœìœ„ ìë™ ì„¤ì •\n+feedbackSchema.methods.calculatePriority = function() {\n+  let priority = 'low';\n+  \n+  // ë‚®ì€ í‰ì  = ë†’ì€ ìš°ì„ ìˆœìœ„\n+  if (this.rating <= 2) priority = 'high';\n+  else if (this.rating === 3) priority = 'medium';\n+  \n+  // ê¸°ìˆ ì  ë¬¸ì œ = ë†’ì€ ìš°ì„ ìˆœìœ„\n+  if (this.type === 'technical') priority = 'high';\n+  \n+  // ì•ˆì „ ë¬¸ì œ = ê¸´ê¸‰\n+  if (this.details?.meeting?.reportSafetyIssue) priority = 'urgent';\n+  \n+  // í‚¤ì›Œë“œ ê¸°ë°˜ ìš°ì„ ìˆœìœ„ ì¡°ì •\n+  const urgentKeywords = ['ë²„ê·¸', 'ì˜¤ë¥˜', 'ì‘ë™ì•ˆí•¨', 'ì ‘ì†ë¶ˆê°€', 'ê²°ì œë¬¸ì œ'];\n+  if (urgentKeywords.some(keyword => this.content.includes(keyword))) {\n+    priority = 'urgent';\n+  }\n+  \n+  this.priority = priority;\n+  return priority;\n+};\n+\n+module.exports = mongoose.model('Feedback', feedbackSchema);\n\\ No newline at end of file\ndiff --git a/senior-ui.html b/senior-ui.html\nindex 7878d35..774949f 100644\n--- a/senior-ui.html\n+++ b/senior-ui.html\n@@ -3,8 +3,26 @@\n <head>\n     <meta charset=\"UTF-8\">\n     <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n-    <title>CHARM_INYEON - ì¤‘ì¥ë…„ì¸µì„ ìœ„í•œ ë”°ëœ»í•œ ë§Œë‚¨</title>\n-    <meta name=\"description\" content=\"ì¤‘ì¥ë…„ì¸µì„ ìœ„í•œ AI ê¸°ë°˜ ê°€ì¹˜ê´€ ë§¤ì¹­ í”Œë«í¼. ì‰½ê³  ë”°ëœ»í•œ ì¸í„°í˜ì´ìŠ¤ë¡œ ì˜ë¯¸ ìˆëŠ” ë§Œë‚¨ì„ ì‹œì‘í•˜ì„¸ìš”.\">\n+    <title>CHARM_INYEON - ì„¸ë Œë””í”¼í‹°ê°€ ë§Œë“  íŠ¹ë³„í•œ ì¸ì—°</title>\n+    \n+    <!-- SEO ë©”íƒ€ë°ì´í„° -->\n+    <meta name=\"description\" content=\"ì„¸ë Œë””í”¼í‹°ê°€ ë§Œë“  íŠ¹ë³„í•œ ì¸ì—°, 4060ì„¸ëŒ€ë¥¼ ìœ„í•œ AI ê¸°ë°˜ ê°€ì¹˜ê´€ ë§¤ì¹­ í”Œë«í¼. ìš°ì—°í•œ ë§Œë‚¨ì—ì„œ ì‹œì‘ë˜ëŠ” ì§„ì •í•œ ì¸ì—°ì„ ê²½í—˜í•´ë³´ì„¸ìš”.\" />\n+    <meta name=\"keywords\" content=\"ì„¸ë Œë””í”¼í‹°, ì¸ì—°, 4060ì„¸ëŒ€, ë§¤ì¹­, ê°€ì¹˜ê´€, AI ë§¤ì¹­, ìš´ëª…ì  ë§Œë‚¨, ì¤‘ë…„, ì—°ì• , ê²°í˜¼, ìš°ì—°í•œ ë§Œë‚¨, CHARM_INYEON\" />\n+    <meta name=\"author\" content=\"CHARM_INYEON\" />\n+\n+    <!-- Open Graph ë©”íƒ€ë°ì´í„° -->\n+    <meta property=\"og:title\" content=\"CHARM_INYEON - ì„¸ë Œë””í”¼í‹°ê°€ ë§Œë“  íŠ¹ë³„í•œ ì¸ì—°\" />\n+    <meta property=\"og:description\" content=\"ìš°ì—°í•œ ë§Œë‚¨ì—ì„œ ì‹œì‘ë˜ëŠ” ì§„ì •í•œ ì¸ì—°. 4060ì„¸ëŒ€ë¥¼ ìœ„í•œ AI ê¸°ë°˜ ê°€ì¹˜ê´€ ë§¤ì¹­ í”Œë«í¼ì—ì„œ ì„¸ë Œë””í”¼í‹°ë¥¼ ê²½í—˜í•´ë³´ì„¸ìš”.\" />\n+    <meta property=\"og:type\" content=\"website\" />\n+    <meta property=\"og:url\" content=\"https://charm-inyeon.com\" />\n+    <meta property=\"og:image\" content=\"https://charm-inyeon.com/images/og-image.jpg\" />\n+    <meta property=\"og:locale\" content=\"ko_KR\" />\n+\n+    <!-- Twitter Card ë©”íƒ€ë°ì´í„° -->\n+    <meta name=\"twitter:card\" content=\"summary_large_image\" />\n+    <meta name=\"twitter:title\" content=\"CHARM_INYEON - ì„¸ë Œë””í”¼í‹°ê°€ ë§Œë“  íŠ¹ë³„í•œ ì¸ì—°\" />\n+    <meta name=\"twitter:description\" content=\"ìš°ì—°í•œ ë§Œë‚¨ì—ì„œ ì‹œì‘ë˜ëŠ” ì§„ì •í•œ ì¸ì—°. 4060ì„¸ëŒ€ ê°€ì¹˜ê´€ ë§¤ì¹­ í”Œë«í¼ì—ì„œ ì„¸ë Œë””í”¼í‹°ë¥¼ ê²½í—˜í•´ë³´ì„¸ìš”.\" />\n+    <meta name=\"twitter:image\" content=\"https://charm-inyeon.com/images/twitter-card.jpg\" />\n     \n     <!-- DNS í”„ë¦¬í˜ì¹˜ ìµœì í™” -->\n     <link rel=\"dns-prefetch\" href=\"//fonts.googleapis.com\">\n@@ -142,8 +160,8 @@\n                     <span style=\"background: linear-gradient(135deg, var(--primary-color) 0%, var(--secondary-color) 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text;\">ìƒˆë¡œìš´ ë§Œë‚¨</span>ì„ ì‹œì‘í•´ë³´ì„¸ìš”\n                 </h1>\n                 <p style=\"font-size: var(--font-size-large); color: var(--text-secondary); margin-bottom: var(--spacing-xl); line-height: 1.8;\">\n-                    ì¤‘ì¥ë…„ì¸µì„ ìœ„í•´ íŠ¹ë³„íˆ ì„¤ê³„ëœ ë”°ëœ»í•˜ê³  ì•ˆì „í•œ ë§Œë‚¨ì˜ ê³µê°„ì…ë‹ˆë‹¤.<br>\n-                    AIê°€ ë‹¹ì‹ ì˜ ê°€ì¹˜ê´€ì„ ë¶„ì„í•˜ì—¬ ì§„ì •í•œ ë™ë°˜ìë¥¼ ì°¾ì•„ë“œë¦½ë‹ˆë‹¤.\n+                    ìš°ì—°í•œ ë§Œë‚¨ì—ì„œ ì‹œì‘ë˜ëŠ” ì§„ì •í•œ ì¸ì—°ì„ ê²½í—˜í•´ë³´ì„¸ìš”.<br>\n+                    ì„¸ë Œë””í”¼í‹°ê°€ ë§Œë“  íŠ¹ë³„í•œ 4060ì„¸ëŒ€ ê°€ì¹˜ê´€ ë§¤ì¹­ í”Œë«í¼ì…ë‹ˆë‹¤.\n                 </p>\n                 <div style=\"display: flex; gap: var(--spacing-md); justify-content: center; flex-wrap: wrap;\">\n                     <button class=\"btn btn-primary btn-large\" id=\"startJourneyBtn\" data-voice=\"íšŒì›ê°€ì… ì‹œì‘í•˜ê¸°\">\n@@ -622,7 +640,7 @@\n             <div style=\"margin-bottom: var(--spacing-lg);\">\n                 <h3 style=\"color: white; margin-bottom: var(--spacing-sm);\">CHARM_INYEON</h3>\n                 <p style=\"color: rgba(255, 255, 255, 0.8); margin-bottom: var(--spacing-md);\">\n-                    ì¤‘ì¥ë…„ì¸µì„ ìœ„í•œ ë”°ëœ»í•˜ê³  ì•ˆì „í•œ ë§Œë‚¨ì˜ ê³µê°„\n+                    ì„¸ë Œë””í”¼í‹°ê°€ ë§Œë“  íŠ¹ë³„í•œ ì¸ì—°, 4060ì„¸ëŒ€ ê°€ì¹˜ê´€ ë§¤ì¹­ í”Œë«í¼\n                 </p>\n             </div>\n             \ndiff --git a/services/serendipity-matching.js b/services/serendipity-matching.js\nnew file mode 100644\nindex 0000000..8c495b3\n--- /dev/null\n+++ b/services/serendipity-matching.js\n@@ -0,0 +1,682 @@\n+/**\n+ * ì„¸ë Œë””í”¼í‹° ê¸°ë°˜ ê³ ê¸‰ ë§¤ì¹­ ì•Œê³ ë¦¬ì¦˜\n+ * \n+ * íŠ¹ì§•:\n+ * - 4060ì„¸ëŒ€ íŠ¹í™” ë§¤ì¹­ ë¡œì§\n+ * - ìš°ì—°ì  ìš”ì†Œì™€ ê³¼í•™ì  ë¶„ì„ì˜ ì¡°í™”\n+ * - ì¸ìƒ ê²½í—˜ê³¼ ê°€ì¹˜ê´€ ì¤‘ì‹¬ ë§¤ì¹­\n+ * - ì„¸ë Œë””í”¼í‹° ìš”ì†Œ ê°•í™”\n+ */\n+\n+const User = require('../models/User');\n+const ValuesAssessment = require('../models/ValuesAssessment');\n+const Match = require('../models/Match');\n+\n+class SerendipityMatchingEngine {\n+  constructor() {\n+    this.algorithmVersion = '2.0-serendipity';\n+    this.baseCompatibilityThreshold = 65;\n+    this.serendipityBoostFactor = 0.15; // 15% ì„¸ë Œë””í”¼í‹° ê°€ì¤‘ì¹˜\n+  }\n+\n+  /**\n+   * ë©”ì¸ ë§¤ì¹­ í•¨ìˆ˜ - ì„¸ë Œë””í”¼í‹° ê¸°ë°˜\n+   * @param {string} userId - ë§¤ì¹­ì„ ìš”ì²­í•˜ëŠ” ì‚¬ìš©ì ID\n+   * @param {Object} preferences - ì‚¬ìš©ì ì„ í˜¸ë„\n+   * @returns {Array} ë§¤ì¹­ ê²°ê³¼ ë°°ì—´\n+   */\n+  async findSerendipityMatches(userId, preferences = {}) {\n+    try {\n+      const user = await User.findById(userId).populate('valuesAssessment');\n+      if (!user) {\n+        throw new Error('ì‚¬ìš©ìë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤');\n+      }\n+\n+      // 1ë‹¨ê³„: ê¸°ë³¸ í•„í„°ë§ (ë‚˜ì´, ì§€ì—­, ì„ í˜¸ë„)\n+      const candidates = await this.getBasicCandidates(user, preferences);\n+      \n+      // 2ë‹¨ê³„: ê°€ì¹˜ê´€ í˜¸í™˜ì„± ë¶„ì„\n+      const compatibilityScores = await this.calculateCompatibilityScores(user, candidates);\n+      \n+      // 3ë‹¨ê³„: ì„¸ë Œë””í”¼í‹° ìš”ì†Œ ì ìš©\n+      const serendipityEnhanced = await this.applySerendipityFactors(user, compatibilityScores);\n+      \n+      // 4ë‹¨ê³„: 4060ì„¸ëŒ€ íŠ¹í™” ê°€ì¤‘ì¹˜\n+      const seniorOptimized = await this.applySeniorOptimization(user, serendipityEnhanced);\n+      \n+      // 5ë‹¨ê³„: ìµœì¢… ì •ë ¬ ë° ì„ ë³„\n+      const finalMatches = await this.finalizeMatches(user, seniorOptimized);\n+      \n+      return finalMatches;\n+    } catch (error) {\n+      console.error('ì„¸ë Œë””í”¼í‹° ë§¤ì¹­ ì˜¤ë¥˜:', error);\n+      throw error;\n+    }\n+  }\n+\n+  /**\n+   * ê¸°ë³¸ í›„ë³´ì í•„í„°ë§\n+   */\n+  async getBasicCandidates(user, preferences) {\n+    const query = {\n+      _id: { $ne: user._id }, // ìê¸° ìì‹  ì œì™¸\n+      isActive: true,\n+      isVerified: true,\n+      isProfileComplete: true\n+    };\n+\n+    // ë‚˜ì´ í•„í„°\n+    if (preferences.ageRange) {\n+      const ageValues = this.getAgeValuesFromRange(preferences.ageRange);\n+      query.age = { $in: ageValues };\n+    } else {\n+      // ê¸°ë³¸ 4060ì„¸ëŒ€ ë²”ìœ„\n+      query.age = { $in: ['40-45', '46-50', '51-55', '56-60', '60+'] };\n+    }\n+\n+    // ì„±ë³„ ì„ í˜¸ë„\n+    if (preferences.genderPreference && preferences.genderPreference !== 'both') {\n+      query.gender = preferences.genderPreference;\n+    }\n+\n+    // ì§€ì—­ í•„í„° (ë°˜ê²½ ê¸°ë°˜)\n+    if (user.location?.coordinates && preferences.maxDistance) {\n+      query['location.coordinates'] = {\n+        $near: {\n+          $geometry: {\n+            type: 'Point',\n+            coordinates: user.location.coordinates\n+          },\n+          $maxDistance: preferences.maxDistance * 1000 // kmë¥¼ më¡œ ë³€í™˜\n+        }\n+      };\n+    }\n+\n+    // ê²°í˜¼ ìƒíƒœ ì„ í˜¸ë„\n+    if (preferences.maritalStatusPreference?.length) {\n+      query.maritalStatus = { $in: preferences.maritalStatusPreference };\n+    }\n+\n+    // ìë…€ ì„ í˜¸ë„\n+    if (preferences.childrenPreference !== 'no_preference') {\n+      switch (preferences.childrenPreference) {\n+        case 'has_children':\n+          query.hasChildren = true;\n+          break;\n+        case 'no_children':\n+          query.hasChildren = false;\n+          break;\n+        case 'grown_children':\n+          query.$and = [\n+            { hasChildren: true },\n+            { 'childrenInfo.ages': { $in: ['teen', 'adult'] } }\n+          ];\n+          break;\n+      }\n+    }\n+\n+    // ì´ë¯¸ ë§¤ì¹­ëœ ì‚¬ìš©ìë“¤ ì œì™¸\n+    const existingMatches = await Match.find({\n+      $or: [\n+        { user1: user._id },\n+        { user2: user._id }\n+      ]\n+    }).select('user1 user2');\n+\n+    const excludeIds = existingMatches.map(match => \n+      match.user1.toString() === user._id.toString() ? match.user2 : match.user1\n+    );\n+\n+    if (excludeIds.length > 0) {\n+      query._id = { $ne: user._id, $nin: excludeIds };\n+    }\n+\n+    return await User.find(query).limit(50); // ìµœëŒ€ 50ëª…ìœ¼ë¡œ ì œí•œ\n+  }\n+\n+  /**\n+   * í˜¸í™˜ì„± ì ìˆ˜ ê³„ì‚°\n+   */\n+  async calculateCompatibilityScores(user, candidates) {\n+    const userAssessment = await ValuesAssessment.findOne({ userId: user._id });\n+    const results = [];\n+\n+    for (const candidate of candidates) {\n+      const candidateAssessment = await ValuesAssessment.findOne({ userId: candidate._id });\n+      \n+      if (!candidateAssessment) {\n+        continue; // ê°€ì¹˜ê´€ í…ŒìŠ¤íŠ¸ ë¯¸ì™„ë£Œ ì‚¬ìš©ì ì œì™¸\n+      }\n+\n+      const compatibility = await this.calculateDetailedCompatibility(\n+        user, \n+        candidate, \n+        userAssessment, \n+        candidateAssessment\n+      );\n+\n+      results.push({\n+        candidate,\n+        candidateAssessment,\n+        compatibility\n+      });\n+    }\n+\n+    return results;\n+  }\n+\n+  /**\n+   * ìƒì„¸ í˜¸í™˜ì„± ë¶„ì„\n+   */\n+  async calculateDetailedCompatibility(user, candidate, userAssessment, candidateAssessment) {\n+    const compatibility = {\n+      overall: 0,\n+      breakdown: {}\n+    };\n+\n+    // 1. ê°€ì¹˜ê´€ ì¼ì¹˜ë„ (35% ê°€ì¤‘ì¹˜)\n+    compatibility.breakdown.valuesAlignment = this.calculateValuesAlignment(\n+      userAssessment.results,\n+      candidateAssessment.results\n+    );\n+\n+    // 2. ì„±ê²© í˜¸í™˜ì„± (25% ê°€ì¤‘ì¹˜)\n+    compatibility.breakdown.personalityCompatibility = this.calculatePersonalityCompatibility(\n+      user,\n+      candidate\n+    );\n+\n+    // 3. ë¼ì´í”„ìŠ¤íƒ€ì¼ ë§¤ì¹­ (20% ê°€ì¤‘ì¹˜)\n+    compatibility.breakdown.lifestyleMatch = this.calculateLifestyleMatch(\n+      user,\n+      candidate\n+    );\n+\n+    // 4. ì¸ìƒ ê²½í—˜ ìœ ì‚¬ë„ (4060ì„¸ëŒ€ íŠ¹í™”, 15% ê°€ì¤‘ì¹˜)\n+    compatibility.breakdown.lifeExperienceMatch = this.calculateLifeExperienceMatch(\n+      user,\n+      candidate\n+    );\n+\n+    // 5. ì†Œí†µ ìŠ¤íƒ€ì¼ (5% ê°€ì¤‘ì¹˜)\n+    compatibility.breakdown.communicationStyle = this.calculateCommunicationCompatibility(\n+      user,\n+      candidate\n+    );\n+\n+    // ì „ì²´ ì ìˆ˜ ê³„ì‚°\n+    compatibility.overall = (\n+      compatibility.breakdown.valuesAlignment * 0.35 +\n+      compatibility.breakdown.personalityCompatibility * 0.25 +\n+      compatibility.breakdown.lifestyleMatch * 0.20 +\n+      compatibility.breakdown.lifeExperienceMatch * 0.15 +\n+      compatibility.breakdown.communicationStyle * 0.05\n+    );\n+\n+    return compatibility;\n+  }\n+\n+  /**\n+   * ê°€ì¹˜ê´€ ì¼ì¹˜ë„ ê³„ì‚°\n+   */\n+  calculateValuesAlignment(userResults, candidateResults) {\n+    const userValues = userResults.scores || {};\n+    const candidateValues = candidateResults.scores || {};\n+    \n+    const valueKeys = ['family', 'career', 'adventure', 'stability', 'creativity', 'social'];\n+    let totalDifference = 0;\n+    let validComparisons = 0;\n+\n+    valueKeys.forEach(key => {\n+      if (userValues[key] !== undefined && candidateValues[key] !== undefined) {\n+        totalDifference += Math.abs(userValues[key] - candidateValues[key]);\n+        validComparisons++;\n+      }\n+    });\n+\n+    if (validComparisons === 0) return 50; // ê¸°ë³¸ê°’\n+\n+    const averageDifference = totalDifference / validComparisons;\n+    return Math.max(0, 100 - (averageDifference * 2)); // 0-100 ë²”ìœ„ë¡œ ë³€í™˜\n+  }\n+\n+  /**\n+   * ì„±ê²© í˜¸í™˜ì„± ê³„ì‚° (ìƒí˜¸ ë³´ì™„ì  ìš”ì†Œ ê³ ë ¤)\n+   */\n+  calculatePersonalityCompatibility(user, candidate) {\n+    let score = 50; // ê¸°ë³¸ê°’\n+\n+    // ì‚¬íšŒì„± ë ˆë²¨ í˜¸í™˜ì„± (ë„ˆë¬´ ê·¹ë‹¨ì ì¸ ì°¨ì´ëŠ” ê°ì )\n+    if (user.lifestyle?.socialLevel && candidate.lifestyle?.socialLevel) {\n+      const socialLevels = { 'introvert': 1, 'ambivert': 2, 'extrovert': 3 };\n+      const userLevel = socialLevels[user.lifestyle.socialLevel];\n+      const candidateLevel = socialLevels[candidate.lifestyle.socialLevel];\n+      const difference = Math.abs(userLevel - candidateLevel);\n+      \n+      if (difference === 0) score += 15; // ë™ì¼í•œ ì„±í–¥\n+      else if (difference === 1) score += 20; // ìƒí˜¸ ë³´ì™„ì \n+      else score -= 10; // ë„ˆë¬´ ë‹¤ë¦„\n+    }\n+\n+    // í™œë™ì„± ë ˆë²¨ ë§¤ì¹­\n+    if (user.lifestyle?.fitnessLevel && candidate.lifestyle?.fitnessLevel) {\n+      const fitnessLevels = { 'low': 1, 'moderate': 2, 'active': 3, 'very_active': 4 };\n+      const userFitness = fitnessLevels[user.lifestyle.fitnessLevel];\n+      const candidateFitness = fitnessLevels[candidate.lifestyle.fitnessLevel];\n+      const difference = Math.abs(userFitness - candidateFitness);\n+      \n+      if (difference <= 1) score += 15;\n+      else if (difference === 2) score += 5;\n+      else score -= 5;\n+    }\n+\n+    // ì—¬í–‰ ì„±í–¥ í˜¸í™˜ì„±\n+    if (user.lifestyle?.travelFrequency && candidate.lifestyle?.travelFrequency) {\n+      const travelLevels = { 'rarely': 1, 'occasionally': 2, 'frequently': 3, 'very_frequently': 4 };\n+      const userTravel = travelLevels[user.lifestyle.travelFrequency];\n+      const candidateTravel = travelLevels[candidate.lifestyle.travelFrequency];\n+      const difference = Math.abs(userTravel - candidateTravel);\n+      \n+      if (difference <= 1) score += 10;\n+      else if (difference === 2) score += 5;\n+    }\n+\n+    return Math.max(0, Math.min(100, score));\n+  }\n+\n+  /**\n+   * ë¼ì´í”„ìŠ¤íƒ€ì¼ ë§¤ì¹­\n+   */\n+  calculateLifestyleMatch(user, candidate) {\n+    let score = 50;\n+\n+    // ê±°ì£¼ í˜•íƒœ í˜¸í™˜ì„±\n+    if (user.lifestyle?.livingArrangement && candidate.lifestyle?.livingArrangement) {\n+      const compatible = this.checkLivingArrangementCompatibility(\n+        user.lifestyle.livingArrangement,\n+        candidate.lifestyle.livingArrangement\n+      );\n+      score += compatible ? 15 : -10;\n+    }\n+\n+    // ì£¼íƒ ì†Œìœ  í˜•íƒœ\n+    if (user.lifestyle?.homeOwnership && candidate.lifestyle?.homeOwnership) {\n+      if (user.lifestyle.homeOwnership === candidate.lifestyle.homeOwnership) {\n+        score += 10;\n+      }\n+    }\n+\n+    // ìë…€ ìƒí™© í˜¸í™˜ì„± (4060ì„¸ëŒ€ ì¤‘ìš” ìš”ì†Œ)\n+    if (user.hasChildren !== undefined && candidate.hasChildren !== undefined) {\n+      if (user.hasChildren === candidate.hasChildren) {\n+        score += 20; // ìë…€ ìœ ë¬´ ë™ì¼ ì‹œ ë†’ì€ ì ìˆ˜\n+      } else {\n+        // í•œ ëª…ì€ ìë…€ ìˆê³  í•œ ëª…ì€ ì—†ëŠ” ê²½ìš°\n+        score += 5; // ì•½ê°„ì˜ ì ìˆ˜ (ê²½í—˜ ê³µìœ  ê°€ëŠ¥)\n+      }\n+    }\n+\n+    return Math.max(0, Math.min(100, score));\n+  }\n+\n+  /**\n+   * ì¸ìƒ ê²½í—˜ ìœ ì‚¬ë„ (4060ì„¸ëŒ€ íŠ¹í™”)\n+   */\n+  calculateLifeExperienceMatch(user, candidate) {\n+    let score = 50;\n+\n+    // ê²°í˜¼ ê²½í—˜ ìœ ì‚¬ë„\n+    if (user.maritalStatus && candidate.maritalStatus) {\n+      const experienceGroups = {\n+        'never_married': ['single'],\n+        'previously_married': ['divorced', 'widowed', 'separated']\n+      };\n+      \n+      const userGroup = this.getExperienceGroup(user.maritalStatus, experienceGroups);\n+      const candidateGroup = this.getExperienceGroup(candidate.maritalStatus, experienceGroups);\n+      \n+      if (userGroup === candidateGroup) {\n+        score += 25; // ìœ ì‚¬í•œ ê²°í˜¼ ê²½í—˜\n+      }\n+    }\n+\n+    // ì§ì—… ê²½í—˜ ë ˆë²¨\n+    if (user.occupation?.position && candidate.occupation?.position) {\n+      const positionLevels = {\n+        'entry': 1, 'mid': 2, 'senior': 3, 'executive': 4, 'owner': 5, 'retired': 3\n+      };\n+      \n+      const userLevel = positionLevels[user.occupation.position];\n+      const candidateLevel = positionLevels[candidate.occupation.position];\n+      \n+      if (userLevel && candidateLevel) {\n+        const difference = Math.abs(userLevel - candidateLevel);\n+        if (difference <= 1) score += 15;\n+        else if (difference === 2) score += 5;\n+      }\n+    }\n+\n+    // ë‚˜ì´ëŒ€ ê²½í—˜ ìœ ì‚¬ë„\n+    const userAge = this.getAgeGroup(user.age);\n+    const candidateAge = this.getAgeGroup(candidate.age);\n+    const ageDifference = Math.abs(userAge - candidateAge);\n+    \n+    if (ageDifference === 0) score += 10;\n+    else if (ageDifference === 1) score += 15; // ì•½ê°„ì˜ ë‚˜ì´ ì°¨ì´ëŠ” ì˜¤íˆë ¤ ì¢‹ìŒ\n+    else score -= 5;\n+\n+    return Math.max(0, Math.min(100, score));\n+  }\n+\n+  /**\n+   * ì†Œí†µ ìŠ¤íƒ€ì¼ í˜¸í™˜ì„±\n+   */\n+  calculateCommunicationCompatibility(user, candidate) {\n+    let score = 70; // ê¸°ë³¸ ë†’ì€ ì ìˆ˜ (4060ì„¸ëŒ€ëŠ” ì„±ìˆ™í•œ ì†Œí†µ ê°€ëŠ¥)\n+\n+    // ê¸°ìˆ  í™œìš© ëŠ¥ë ¥ ìœ ì‚¬ë„\n+    if (user.ageGroupContext?.technicalComfort && candidate.ageGroupContext?.technicalComfort) {\n+      const techLevels = { 'beginner': 1, 'intermediate': 2, 'advanced': 3 };\n+      const userTech = techLevels[user.ageGroupContext.technicalComfort];\n+      const candidateTech = techLevels[candidate.ageGroupContext.technicalComfort];\n+      \n+      if (userTech && candidateTech) {\n+        const difference = Math.abs(userTech - candidateTech);\n+        if (difference === 0) score += 20;\n+        else if (difference === 1) score += 10;\n+      }\n+    }\n+\n+    // ì„ í˜¸ ì—°ë½ ë°©ë²• í˜¸í™˜ì„±\n+    if (user.ageGroupContext?.preferredContactMethod && candidate.ageGroupContext?.preferredContactMethod) {\n+      if (user.ageGroupContext.preferredContactMethod === candidate.ageGroupContext.preferredContactMethod) {\n+        score += 10;\n+      }\n+    }\n+\n+    return Math.max(0, Math.min(100, score));\n+  }\n+\n+  /**\n+   * ì„¸ë Œë””í”¼í‹° ìš”ì†Œ ì ìš©\n+   */\n+  async applySerendipityFactors(user, compatibilityResults) {\n+    return compatibilityResults.map(result => {\n+      let serendipityBoost = 0;\n+\n+      // 1. ì˜ˆìƒ ë°–ì˜ í˜¸í™˜ì„± ë°œê²¬ (ê°€ì¹˜ê´€ì€ ë‹¤ë¥´ì§€ë§Œ ì„±ê²©ì´ ì˜ ë§ëŠ” ê²½ìš°)\n+      if (result.compatibility.breakdown.valuesAlignment < 70 && \n+          result.compatibility.breakdown.personalityCompatibility > 80) {\n+        serendipityBoost += 10;\n+        result.serendipityFactors = result.serendipityFactors || [];\n+        result.serendipityFactors.push({\n+          type: 'unexpected_harmony',\n+          description: 'ê°€ì¹˜ê´€ì€ ë‹¤ë¥´ì§€ë§Œ ì„±ê²©ì ìœ¼ë¡œ ì™„ë²½í•œ ì¡°í™”',\n+          boost: 10\n+        });\n+      }\n+\n+      // 2. ìƒë°˜ëœ ë°°ê²½ì˜ ë§¤ë ¥ (ë‹¤ë¥¸ ì—…ê³„, ë‹¤ë¥¸ ì§€ì—­ ì¶œì‹ )\n+      if (user.occupation?.industry !== result.candidate.occupation?.industry) {\n+        serendipityBoost += 5;\n+        result.serendipityFactors = result.serendipityFactors || [];\n+        result.serendipityFactors.push({\n+          type: 'diverse_background',\n+          description: 'ì„œë¡œ ë‹¤ë¥¸ ì—…ê³„ ê²½í—˜ìœ¼ë¡œ í’ë¶€í•œ ëŒ€í™” ê°€ëŠ¥',\n+          boost: 5\n+        });\n+      }\n+\n+      // 3. ë“œë¬¸ ê³µí†µì  ë°œê²¬\n+      serendipityBoost += this.findRareCommonalities(user, result.candidate);\n+\n+      // 4. ì‹œê°„ì  ì„¸ë Œë””í”¼í‹° (íŠ¹ë³„í•œ ë‚ ì§œ, ì˜ë¯¸ìˆëŠ” ì‹œì )\n+      serendipityBoost += this.calculateTemporalSerendipity();\n+\n+      // 5. ì§€ë¦¬ì  ì„¸ë Œë””í”¼í‹° (ìš°ì—°íˆ ê°€ê¹Œìš´ ê±°ë¦¬)\n+      if (user.location?.coordinates && result.candidate.location?.coordinates) {\n+        const distance = this.calculateDistance(\n+          user.location.coordinates,\n+          result.candidate.location.coordinates\n+        );\n+        if (distance < 5) { // 5km ì´ë‚´\n+          serendipityBoost += 8;\n+          result.serendipityFactors = result.serendipityFactors || [];\n+          result.serendipityFactors.push({\n+            type: 'geographic_proximity',\n+            description: 'ìš´ëª…ì²˜ëŸ¼ ê°€ê¹Œìš´ ê±°ë¦¬ì—ì„œ ë§Œë‚œ ì¸ì—°',\n+            boost: 8\n+          });\n+        }\n+      }\n+\n+      // ì„¸ë Œë””í”¼í‹° ì ìš©\n+      result.compatibility.overall += serendipityBoost * this.serendipityBoostFactor;\n+      result.compatibility.serendipityScore = serendipityBoost;\n+      \n+      return result;\n+    });\n+  }\n+\n+  /**\n+   * ë“œë¬¸ ê³µí†µì  ë°œê²¬\n+   */\n+  findRareCommonalities(user, candidate) {\n+    let boost = 0;\n+\n+    // ê°™ì€ ëŒ€í•™êµ ì¶œì‹  (ë§Œì•½ ì •ë³´ê°€ ìˆë‹¤ë©´)\n+    // ê°™ì€ ì·¨ë¯¸ (ì„¸ë¶€ì ì¸ ì·¨ë¯¸ë“¤)\n+    // ê°™ì€ ê°€ì¹˜ê´€ ì¡°í•© (ë“œë¬¸ ì¡°í•©ì¼ìˆ˜ë¡ ë†’ì€ ì ìˆ˜)\n+    \n+    // ì˜ˆì‹œ: ê°™ì€ ì§ì—… ë ˆë²¨ì˜ ì€í‡´ìë“¤\n+    if (user.occupation?.workSchedule === 'retired' && \n+        candidate.occupation?.workSchedule === 'retired') {\n+      boost += 7;\n+    }\n+\n+    // ê°™ì€ ìë…€ ìˆ˜\n+    if (user.childrenInfo?.number && candidate.childrenInfo?.number && \n+        user.childrenInfo.number === candidate.childrenInfo.number &&\n+        user.childrenInfo.number > 0) {\n+      boost += 5;\n+    }\n+\n+    return boost;\n+  }\n+\n+  /**\n+   * ì‹œê°„ì  ì„¸ë Œë””í”¼í‹°\n+   */\n+  calculateTemporalSerendipity() {\n+    const now = new Date();\n+    let boost = 0;\n+\n+    // íŠ¹ë³„í•œ ë‚ ë“¤ì— ì•½ê°„ì˜ ì„¸ë Œë””í”¼í‹° ë¶€ìŠ¤íŠ¸\n+    const month = now.getMonth() + 1;\n+    const day = now.getDate();\n+    \n+    // ë´„(3-5ì›”), ê°€ì„(9-11ì›”) ì‹œì¦Œ ë¶€ìŠ¤íŠ¸\n+    if ((month >= 3 && month <= 5) || (month >= 9 && month <= 11)) {\n+      boost += 2;\n+    }\n+\n+    // ê¸ˆìš”ì¼ ì €ë…ì´ë‚˜ ì£¼ë§ì— ì•½ê°„ ë” ë†’ì€ ì„¸ë Œë””í”¼í‹°\n+    const dayOfWeek = now.getDay();\n+    if (dayOfWeek === 5 || dayOfWeek === 6 || dayOfWeek === 0) {\n+      boost += 1;\n+    }\n+\n+    return boost;\n+  }\n+\n+  /**\n+   * 4060ì„¸ëŒ€ íŠ¹í™” ìµœì í™”\n+   */\n+  async applySeniorOptimization(user, compatibilityResults) {\n+    return compatibilityResults.map(result => {\n+      // 1. ì•ˆì •ì„± ê°€ì¤‘ì¹˜ ì¦ê°€\n+      if (result.compatibility.breakdown.lifestyleMatch > 70) {\n+        result.compatibility.overall += 5;\n+      }\n+\n+      // 2. ì¸ìƒ ê²½í—˜ ê°€ì¤‘ì¹˜ ì¦ê°€\n+      if (result.compatibility.breakdown.lifeExperienceMatch > 75) {\n+        result.compatibility.overall += 7;\n+      }\n+\n+      // 3. ë„ˆë¬´ ì™„ë²½í•œ ë§¤ì¹˜ë³´ë‹¤ëŠ” ì•½ê°„ì˜ ì°¨ì´ê°€ ìˆëŠ” ë§¤ì¹˜ ì„ í˜¸\n+      if (result.compatibility.overall > 95) {\n+        result.compatibility.overall -= 3; // ì™„ë²½í•¨ì˜ ì—­ì„¤\n+      }\n+\n+      // 4. ìµœê·¼ í™œì„±ë„ ê³ ë ¤\n+      const daysSinceActive = this.getDaysSinceLastActive(result.candidate.lastActive);\n+      if (daysSinceActive > 30) {\n+        result.compatibility.overall -= 10; // ë¹„í™œì„± ì‚¬ìš©ì ê°ì \n+      } else if (daysSinceActive < 7) {\n+        result.compatibility.overall += 5; // í™œì„± ì‚¬ìš©ì ê°€ì \n+      }\n+\n+      return result;\n+    });\n+  }\n+\n+  /**\n+   * ìµœì¢… ë§¤ì¹˜ ì™„ì„±\n+   */\n+  async finalizeMatches(user, optimizedResults) {\n+    // ì„ê³„ê°’ ì´ìƒë§Œ í•„í„°ë§\n+    const qualifiedMatches = optimizedResults.filter(\n+      result => result.compatibility.overall >= this.baseCompatibilityThreshold\n+    );\n+\n+    // ì ìˆ˜ ìˆœìœ¼ë¡œ ì •ë ¬\n+    qualifiedMatches.sort((a, b) => b.compatibility.overall - a.compatibility.overall);\n+\n+    // ìƒìœ„ 10ê°œê¹Œì§€ë§Œ ë°˜í™˜\n+    const topMatches = qualifiedMatches.slice(0, 10);\n+\n+    // ë§¤ì¹˜ ì´ìœ  ìƒì„±\n+    return topMatches.map(result => {\n+      const matchReasons = this.generateMatchReasons(result);\n+      \n+      return {\n+        candidate: result.candidate,\n+        compatibilityScore: Math.round(result.compatibility.overall),\n+        compatibilityBreakdown: result.compatibility.breakdown,\n+        serendipityFactors: result.serendipityFactors || [],\n+        matchReasons: matchReasons,\n+        algorithmVersion: this.algorithmVersion,\n+        confidenceLevel: this.calculateConfidenceLevel(result.compatibility.overall)\n+      };\n+    });\n+  }\n+\n+  /**\n+   * ë§¤ì¹˜ ì´ìœ  ìƒì„±\n+   */\n+  generateMatchReasons(result) {\n+    const reasons = [];\n+    const breakdown = result.compatibility.breakdown;\n+\n+    if (breakdown.valuesAlignment > 80) {\n+      reasons.push({\n+        factor: 'shared_values',\n+        strength: breakdown.valuesAlignment,\n+        description: 'ì¸ìƒ ê°€ì¹˜ê´€ì´ ë§¤ìš° ìœ ì‚¬í•˜ì—¬ ê¹Šì€ ê³µê°ëŒ€ë¥¼ í˜•ì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤'\n+      });\n+    }\n+\n+    if (breakdown.personalityCompatibility > 85) {\n+      reasons.push({\n+        factor: 'personality_complement',\n+        strength: breakdown.personalityCompatibility,\n+        description: 'ì„±ê²©ì ìœ¼ë¡œ ì„œë¡œë¥¼ ì™„ë²½í•˜ê²Œ ë³´ì™„í•  ìˆ˜ ìˆëŠ” ê´€ê³„ì…ë‹ˆë‹¤'\n+      });\n+    }\n+\n+    if (breakdown.lifeExperienceMatch > 75) {\n+      reasons.push({\n+        factor: 'life_experience_similarity',\n+        strength: breakdown.lifeExperienceMatch,\n+        description: 'ë¹„ìŠ·í•œ ì¸ìƒ ê²½í—˜ì„ í†µí•´ ì„œë¡œë¥¼ ê¹Šì´ ì´í•´í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤'\n+      });\n+    }\n+\n+    if (result.serendipityFactors?.length > 0) {\n+      reasons.push({\n+        factor: 'serendipity_magic',\n+        strength: result.compatibility.serendipityScore,\n+        description: 'ì˜ˆìƒì¹˜ ëª»í•œ íŠ¹ë³„í•œ ì¸ì—°ì˜ ì§•ì¡°ê°€ ë°œê²¬ë˜ì—ˆìŠµë‹ˆë‹¤'\n+      });\n+    }\n+\n+    return reasons;\n+  }\n+\n+  // ìœ í‹¸ë¦¬í‹° ë©”ì„œë“œë“¤\n+  getAgeValuesFromRange(range) {\n+    // ë‚˜ì´ ë²”ìœ„ë¥¼ ì‹¤ì œ ë‚˜ì´ ê°’ë“¤ë¡œ ë³€í™˜\n+    const ageMap = {\n+      '40-45': ['40-45'],\n+      '46-50': ['46-50'],\n+      '51-55': ['51-55'],\n+      '56-60': ['56-60'],\n+      '60+': ['60+']\n+    };\n+    return range.flatMap(r => ageMap[r] || []);\n+  }\n+\n+  checkLivingArrangementCompatibility(arr1, arr2) {\n+    const compatible = {\n+      'alone': ['alone', 'with_partner'],\n+      'with_children': ['with_children', 'with_partner'],\n+      'with_partner': ['alone', 'with_children', 'with_partner']\n+    };\n+    return compatible[arr1]?.includes(arr2) || false;\n+  }\n+\n+  getExperienceGroup(status, groups) {\n+    for (const [group, statuses] of Object.entries(groups)) {\n+      if (statuses.includes(status)) return group;\n+    }\n+    return 'other';\n+  }\n+\n+  getAgeGroup(ageRange) {\n+    const ageMap = { '40-45': 1, '46-50': 2, '51-55': 3, '56-60': 4, '60+': 5 };\n+    return ageMap[ageRange] || 3;\n+  }\n+\n+  calculateDistance(coords1, coords2) {\n+    // ê°„ë‹¨í•œ ê±°ë¦¬ ê³„ì‚° (ì‹¤ì œë¡œëŠ” ë” ì •í™•í•œ ê³„ì‚° í•„ìš”)\n+    const [lon1, lat1] = coords1;\n+    const [lon2, lat2] = coords2;\n+    const R = 6371; // ì§€êµ¬ ë°˜ì§€ë¦„ (km)\n+    \n+    const dLat = (lat2 - lat1) * Math.PI / 180;\n+    const dLon = (lon2 - lon1) * Math.PI / 180;\n+    \n+    const a = Math.sin(dLat/2) * Math.sin(dLat/2) +\n+      Math.cos(lat1 * Math.PI / 180) * Math.cos(lat2 * Math.PI / 180) *\n+      Math.sin(dLon/2) * Math.sin(dLon/2);\n+    \n+    const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1-a));\n+    return R * c;\n+  }\n+\n+  getDaysSinceLastActive(lastActive) {\n+    const now = new Date();\n+    const diffTime = now - new Date(lastActive);\n+    return Math.ceil(diffTime / (1000 * 60 * 60 * 24));\n+  }\n+\n+  calculateConfidenceLevel(score) {\n+    if (score >= 90) return 95;\n+    if (score >= 80) return 85;\n+    if (score >= 70) return 75;\n+    return 65;\n+  }\n+}\n+\n+module.exports = new SerendipityMatchingEngine();\n\\ No newline at end of file\n",
  "gitLog": "1e87336 - ğŸŠ Phase 4 ì™„ì „ì²´++ ì„¸ë Œë””í”¼í‹° ì§„í™” ì™„ì„± ğŸŠ (ChangWoo, 0 seconds ago)",
  "workingDirectory": "/mnt/d/AI Projects/AI_matching platform"
}