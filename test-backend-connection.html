<!DOCTYPE html>\n<html lang=\"ko\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>ë°±ì—”ë“œ ì—°ê²° í…ŒìŠ¤íŠ¸ - CHARM_INYEON</title>\n    <style>\n        body {\n            font-family: \"Noto Sans KR\", sans-serif;\n            padding: 2rem;\n            background: #f8fafc;\n            line-height: 1.6;\n        }\n        \n        .test-container {\n            max-width: 800px;\n            margin: 0 auto;\n            background: white;\n            padding: 2rem;\n            border-radius: 15px;\n            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);\n        }\n        \n        .test-header {\n            text-align: center;\n            margin-bottom: 3rem;\n        }\n        \n        .test-header h1 {\n            color: #667eea;\n            margin-bottom: 1rem;\n        }\n        \n        .test-section {\n            margin-bottom: 2rem;\n            padding: 1.5rem;\n            border: 2px solid #e5e7eb;\n            border-radius: 12px;\n        }\n        \n        .test-button {\n            background: linear-gradient(135deg, #667eea, #764ba2);\n            color: white;\n            border: none;\n            padding: 0.75rem 1.5rem;\n            border-radius: 8px;\n            margin: 0.5rem;\n            cursor: pointer;\n            font-weight: 600;\n            transition: all 0.3s ease;\n        }\n        \n        .test-button:hover {\n            transform: translateY(-2px);\n            box-shadow: 0 8px 25px rgba(102, 126, 234, 0.3);\n        }\n        \n        .result {\n            margin-top: 1rem;\n            padding: 1rem;\n            border-radius: 8px;\n            font-family: monospace;\n            white-space: pre-wrap;\n        }\n        \n        .success {\n            background: #d1fae5;\n            color: #065f46;\n            border: 1px solid #a7f3d0;\n        }\n        \n        .error {\n            background: #fef2f2;\n            color: #991b1b;\n            border: 1px solid #fecaca;\n        }\n        \n        .info {\n            background: #eff6ff;\n            color: #1e40af;\n            border: 1px solid #bfdbfe;\n        }\n    </style>\n</head>\n<body>\n    <div class=\"test-container\">\n        <div class=\"test-header\">\n            <h1>ğŸ§ª ë°±ì—”ë“œ API ì—°ê²° í…ŒìŠ¤íŠ¸</h1>\n            <p>CHARM_INYEON ë°±ì—”ë“œ ì‹œìŠ¤í…œì˜ API ì—”ë“œí¬ì¸íŠ¸ë“¤ì„ í…ŒìŠ¤íŠ¸í•©ë‹ˆë‹¤.</p>\n        </div>\n        \n        <div class=\"test-section\">\n            <h2>ğŸ¥ ì„œë²„ ìƒíƒœ í™•ì¸</h2>\n            <button class=\"test-button\" onclick=\"testHealth()\">Health Check</button>\n            <button class=\"test-button\" onclick=\"testServerInfo()\">ì„œë²„ ì •ë³´</button>\n            <div id=\"healthResult\" class=\"result\" style=\"display: none;\"></div>\n        </div>\n        \n        <div class=\"test-section\">\n            <h2>ğŸ” ì¸ì¦ ì‹œìŠ¤í…œ í…ŒìŠ¤íŠ¸</h2>\n            <button class=\"test-button\" onclick=\"testRegister()\">íšŒì›ê°€ì… í…ŒìŠ¤íŠ¸</button>\n            <button class=\"test-button\" onclick=\"testLogin()\">ë¡œê·¸ì¸ í…ŒìŠ¤íŠ¸</button>\n            <div id=\"authResult\" class=\"result\" style=\"display: none;\"></div>\n        </div>\n        \n        <div class=\"test-section\">\n            <h2>ğŸ“Š ê°€ì¹˜ê´€ ì„¤ë¬¸ í…ŒìŠ¤íŠ¸</h2>\n            <button class=\"test-button\" onclick=\"testValues()\">ì„¤ë¬¸ ì§ˆë¬¸ ê°€ì ¸ì˜¤ê¸°</button>\n            <button class=\"test-button\" onclick=\"testSubmitValues()\">ì„¤ë¬¸ ì œì¶œ í…ŒìŠ¤íŠ¸</button>\n            <div id=\"valuesResult\" class=\"result\" style=\"display: none;\"></div>\n        </div>\n        \n        <div class=\"test-section\">\n            <h2>ğŸ’• ë§¤ì¹­ ì‹œìŠ¤í…œ í…ŒìŠ¤íŠ¸</h2>\n            <button class=\"test-button\" onclick=\"testMatching()\">ë§¤ì¹­ ì•Œê³ ë¦¬ì¦˜ í…ŒìŠ¤íŠ¸</button>\n            <div id=\"matchingResult\" class=\"result\" style=\"display: none;\"></div>\n        </div>\n    </div>\n    \n    <script>\n        const API_BASE = 'http://localhost:3000/api';\n        \n        // ì„œë²„ ìƒíƒœ í™•ì¸\n        async function testHealth() {\n            const result = document.getElementById('healthResult');\n            result.style.display = 'block';\n            result.textContent = 'â³ ì„œë²„ ìƒíƒœ í™•ì¸ ì¤‘...';\n            result.className = 'result info';\n            \n            try {\n                const response = await fetch('http://localhost:3000/health');\n                const data = await response.json();\n                \n                result.textContent = `âœ… ì„œë²„ ìƒíƒœ: ${data.status}\\ní™˜ê²½: ${data.environment}\\nê°€ë™ì‹œê°„: ${Math.floor(data.uptime)}ì´ˆ\\nì‹œê°„: ${data.timestamp}`;\n                result.className = 'result success';\n            } catch (error) {\n                result.textContent = `âŒ ì„œë²„ ì—°ê²° ì‹¤íŒ¨: ${error.message}\\n\\nğŸ’¡ í•´ê²°ë°©ë²•:\\n1. í„°ë¯¸ë„ì—ì„œ 'npm start' ì‹¤í–‰\\n2. MongoDB ì„œë²„ ì‹¤í–‰ í™•ì¸\\n3. í¬íŠ¸ 3000ë²ˆì´ ì‚¬ìš© ê°€ëŠ¥í•œì§€ í™•ì¸`;\n                result.className = 'result error';\n            }\n        }\n        \n        async function testServerInfo() {\n            const result = document.getElementById('healthResult');\n            result.style.display = 'block';\n            result.textContent = 'â³ ì„œë²„ ì •ë³´ ì¡°íšŒ ì¤‘...';\n            result.className = 'result info';\n            \n            try {\n                const response = await fetch('http://localhost:3000/');\n                const data = await response.json();\n                \n                result.textContent = `ğŸ“‹ ì„œë²„ ì •ë³´:\\nì„œë¹„ìŠ¤: ${data.message}\\në²„ì „: ${data.version}\\nAPI ë¬¸ì„œ: ${data.documentation}\\nìƒíƒœí™•ì¸: ${data.health}`;\n                result.className = 'result success';\n            } catch (error) {\n                result.textContent = `âŒ ì„œë²„ ì •ë³´ ì¡°íšŒ ì‹¤íŒ¨: ${error.message}`;\n                result.className = 'result error';\n            }\n        }\n        \n        // ì¸ì¦ í…ŒìŠ¤íŠ¸\n        async function testRegister() {\n            const result = document.getElementById('authResult');\n            result.style.display = 'block';\n            result.textContent = 'â³ íšŒì›ê°€ì… í…ŒìŠ¤íŠ¸ ì¤‘...';\n            result.className = 'result info';\n            \n            const testUser = {\n                email: `test_${Date.now()}@example.com`,\n                password: 'TestPassword123!',\n                name: 'í…ŒìŠ¤íŠ¸ì‚¬ìš©ì',\n                age: '46-50',\n                gender: 'male',\n                location: 'ì„œìš¸ì‹œ ê°•ë‚¨êµ¬',\n                agreeTerms: true,\n                agreePrivacy: true\n            };\n            \n            try {\n                const response = await fetch(`${API_BASE}/auth/register`, {\n                    method: 'POST',\n                    headers: {\n                        'Content-Type': 'application/json'\n                    },\n                    body: JSON.stringify(testUser)\n                });\n                \n                const data = await response.json();\n                \n                if (response.ok) {\n                    result.textContent = `âœ… íšŒì›ê°€ì… ì„±ê³µ!\\nì‚¬ìš©ì ID: ${data.user.id}\\nì´ë¦„: ${data.user.name}\\ní† í°: ${data.token ? 'ë°œê¸‰ë¨' : 'ì—†ìŒ'}`;\n                    result.className = 'result success';\n                    \n                    // í† í° ì €ì¥ (ë¡œê·¸ì¸ í…ŒìŠ¤íŠ¸ìš©)\n                    if (data.token) {\n                        localStorage.setItem('testToken', data.token);\n                    }\n                } else {\n                    result.textContent = `âš ï¸ íšŒì›ê°€ì… ì‹¤íŒ¨: ${data.error || data.message}\\n${data.details ? JSON.stringify(data.details, null, 2) : ''}`;\n                    result.className = 'result error';\n                }\n            } catch (error) {\n                result.textContent = `âŒ íšŒì›ê°€ì… ìš”ì²­ ì‹¤íŒ¨: ${error.message}`;\n                result.className = 'result error';\n            }\n        }\n        \n        async function testLogin() {\n            const result = document.getElementById('authResult');\n            result.style.display = 'block';\n            result.textContent = 'â³ ë¡œê·¸ì¸ í…ŒìŠ¤íŠ¸ ì¤‘...';\n            result.className = 'result info';\n            \n            const loginData = {\n                email: 'test@example.com',\n                password: 'TestPassword123!'\n            };\n            \n            try {\n                const response = await fetch(`${API_BASE}/auth/login`, {\n                    method: 'POST',\n                    headers: {\n                        'Content-Type': 'application/json'\n                    },\n                    body: JSON.stringify(loginData)\n                });\n                \n                const data = await response.json();\n                \n                if (response.ok) {\n                    result.textContent = `âœ… ë¡œê·¸ì¸ ì„±ê³µ!\\nì‚¬ìš©ì: ${data.user.name}\\nì´ë©”ì¼: ${data.user.email}\\ní† í°: ë°œê¸‰ë¨`;\n                    result.className = 'result success';\n                    \n                    localStorage.setItem('testToken', data.token);\n                } else {\n                    result.textContent = `âš ï¸ ë¡œê·¸ì¸ ì‹¤íŒ¨: ${data.error || data.message}\\n\\nğŸ“ ì°¸ê³ : ë¨¼ì € íšŒì›ê°€ì… í…ŒìŠ¤íŠ¸ë¥¼ ì‹¤í–‰í•˜ì„¸ìš”.`;\n                    result.className = 'result error';\n                }\n            } catch (error) {\n                result.textContent = `âŒ ë¡œê·¸ì¸ ìš”ì²­ ì‹¤íŒ¨: ${error.message}`;\n                result.className = 'result error';\n            }\n        }\n        \n        // ê°€ì¹˜ê´€ ì„¤ë¬¸ í…ŒìŠ¤íŠ¸\n        async function testValues() {\n            const result = document.getElementById('valuesResult');\n            result.style.display = 'block';\n            result.textContent = 'â³ ê°€ì¹˜ê´€ ì„¤ë¬¸ ì§ˆë¬¸ ì¡°íšŒ ì¤‘...';\n            result.className = 'result info';\n            \n            try {\n                const token = localStorage.getItem('testToken');\n                const headers = {\n                    'Content-Type': 'application/json'\n                };\n                \n                if (token) {\n                    headers['Authorization'] = `Bearer ${token}`;\n                }\n                \n                const response = await fetch(`${API_BASE}/values/questions`, {\n                    headers: headers\n                });\n                \n                const data = await response.json();\n                \n                if (response.ok) {\n                    result.textContent = `âœ… ì„¤ë¬¸ ì§ˆë¬¸ ì¡°íšŒ ì„±ê³µ!\\nì§ˆë¬¸ ìˆ˜: ${data.questions.length}ê°œ\\n\\nì²« ë²ˆì§¸ ì§ˆë¬¸:\\n\"${data.questions[0].text}\"\\n\\nì„ íƒì§€ ìˆ˜: ${data.questions[0].options.length}ê°œ`;\n                    result.className = 'result success';\n                } else {\n                    result.textContent = `âš ï¸ ì„¤ë¬¸ ì¡°íšŒ ì‹¤íŒ¨: ${data.error || data.message}`;\n                    result.className = 'result error';\n                }\n            } catch (error) {\n                result.textContent = `âŒ ì„¤ë¬¸ ì¡°íšŒ ìš”ì²­ ì‹¤íŒ¨: ${error.message}`;\n                result.className = 'result error';\n            }\n        }\n        \n        async function testSubmitValues() {\n            const result = document.getElementById('valuesResult');\n            result.style.display = 'block';\n            result.textContent = 'â³ ì„¤ë¬¸ ì œì¶œ í…ŒìŠ¤íŠ¸ ì¤‘...';\n            result.className = 'result info';\n            \n            const testAnswers = {\n                answers: [\n                    { questionId: 1, selectedValue: 'family' },\n                    { questionId: 2, selectedValue: 'quiet' },\n                    { questionId: 3, selectedValue: 'logic' }\n                ]\n            };\n            \n            try {\n                const token = localStorage.getItem('testToken');\n                if (!token) {\n                    result.textContent = 'âš ï¸ ë¡œê·¸ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤. ë¨¼ì € ë¡œê·¸ì¸ í…ŒìŠ¤íŠ¸ë¥¼ ì‹¤í–‰í•˜ì„¸ìš”.';\n                    result.className = 'result error';\n                    return;\n                }\n                \n                const response = await fetch(`${API_BASE}/values/submit`, {\n                    method: 'POST',\n                    headers: {\n                        'Content-Type': 'application/json',\n                        'Authorization': `Bearer ${token}`\n                    },\n                    body: JSON.stringify(testAnswers)\n                });\n                \n                const data = await response.json();\n                \n                if (response.ok) {\n                    result.textContent = `âœ… ì„¤ë¬¸ ì œì¶œ ì„±ê³µ!\\në¶„ì„ ID: ${data.assessmentId}\\nì™„ë£Œ ì‹œê°„: ${new Date(data.completedAt).toLocaleString()}\\n\\nê°€ì¹˜ê´€ ì ìˆ˜ (ì˜ˆì‹œ):\\nê°€ì¡± ì¤‘ì‹¬: ${data.results?.scores?.family || 'N/A'}\\nì•ˆì • ì¶”êµ¬: ${data.results?.scores?.stability || 'N/A'}`;\n                    result.className = 'result success';\n                } else {\n                    result.textContent = `âš ï¸ ì„¤ë¬¸ ì œì¶œ ì‹¤íŒ¨: ${data.error || data.message}`;\n                    result.className = 'result error';\n                }\n            } catch (error) {\n                result.textContent = `âŒ ì„¤ë¬¸ ì œì¶œ ìš”ì²­ ì‹¤íŒ¨: ${error.message}`;\n                result.className = 'result error';\n            }\n        }\n        \n        // ë§¤ì¹­ í…ŒìŠ¤íŠ¸\n        async function testMatching() {\n            const result = document.getElementById('matchingResult');\n            result.style.display = 'block';\n            result.textContent = 'â³ ë§¤ì¹­ ì•Œê³ ë¦¬ì¦˜ í…ŒìŠ¤íŠ¸ ì¤‘...';\n            result.className = 'result info';\n            \n            try {\n                const token = localStorage.getItem('testToken');\n                if (!token) {\n                    result.textContent = 'âš ï¸ ë¡œê·¸ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤. ë¨¼ì € ë¡œê·¸ì¸ í…ŒìŠ¤íŠ¸ë¥¼ ì‹¤í–‰í•˜ì„¸ìš”.';\n                    result.className = 'result error';\n                    return;\n                }\n                \n                const response = await fetch(`${API_BASE}/matching/find`, {\n                    method: 'POST',\n                    headers: {\n                        'Content-Type': 'application/json',\n                        'Authorization': `Bearer ${token}`\n                    },\n                    body: JSON.stringify({\n                        preferences: {\n                            minAge: 40,\n                            maxAge: 60,\n                            location: 'ì„œìš¸ì‹œ',\n                            interests: ['ë…ì„œ', 'ì˜í™”', 'ì‚°ì±…']\n                        }\n                    })\n                });\n                \n                const data = await response.json();\n                \n                if (response.ok) {\n                    result.textContent = `âœ… ë§¤ì¹­ í…ŒìŠ¤íŠ¸ ì„±ê³µ!\\në§¤ì¹­ ìˆ˜: ${data.matches?.length || 0}ê°œ\\nì•Œê³ ë¦¬ì¦˜: ${data.algorithm || 'ê¸°ë³¸'}\\nì²˜ë¦¬ ì‹œê°„: ${data.processingTime || 'N/A'}ms`;\n                    result.className = 'result success';\n                } else {\n                    result.textContent = `âš ï¸ ë§¤ì¹­ ì‹¤íŒ¨: ${data.error || data.message}`;\n                    result.className = 'result error';\n                }\n            } catch (error) {\n                result.textContent = `âŒ ë§¤ì¹­ ìš”ì²­ ì‹¤íŒ¨: ${error.message}`;\n                result.className = 'result error';\n            }\n        }\n        \n        // í˜ì´ì§€ ë¡œë“œ ì‹œ ìë™ìœ¼ë¡œ ì„œë²„ ìƒíƒœ í™•ì¸\n        window.addEventListener('load', () => {\n            setTimeout(testHealth, 1000);\n        });\n    </script>\n</body>\n</html>